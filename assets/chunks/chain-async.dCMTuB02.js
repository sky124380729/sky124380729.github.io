var f=Object.defineProperty;var d=(e,s,t)=>s in e?f(e,s,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[s]=t;var i=(e,s,t)=>(d(e,typeof s!="symbol"?s+"":s,t),t);const l="pending",h="fulfilled",u="rejected";class a{constructor(s){i(this,"status",l);i(this,"value");i(this,"reason");i(this,"successCallback",[]);i(this,"failCallback",[]);i(this,"resolve",s=>{if(this.status===l)for(this.status=h,this.value=s;this.successCallback.length;)this.successCallback.shift()(this.value)});i(this,"reject",s=>{if(this.status===l)for(this.status=u,this.reason=s;this.failCallback.length;)this.failCallback.shift()(this.value)});s(this.resolve,this.reject)}then(s,t){return new a((c,o)=>{if(this.status===h){let r=s(this.value);p(r,c,o)}else this.status===u?t(this.reason):(this.successCallback.push(s),this.failCallback.push(t))})}}function p(e,s,t){e instanceof a?e.then(s,t):s(e)}function v(e){new e(t=>{t("成功")}).then(t=>(console.log(t),new e(n=>{n("other")}))).then(t=>{console.log(t)})}export{a as default,v as testCase};
